<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/material-icons.css">

    <script src="config.js"></script>

    <!--Mock Data-->
    <script src="data.js"></script>


    <!--External library-->
    <script src="js/external/jquery-3.3.1.js"></script>
    <script src="js/external/bootstrap.bundle.js"></script>

    <!--Utils-->
    <script src="js/utils/element.js"></script>
    <script src="js/utils/clone.js"></script>

    <!--Core-->



    <!--Core Tag Modifier, order is important-->
    <script src="js/core/modifier/ui-for.js"></script>
    <script src="js/core/modifier/ui-if.js"></script>
    <script src="js/core/modifier/ui-exp.js"></script>
    <script src="js/core/modifier/ui-bind.js"></script>
    <script src="js/core/modifier/ui-on.js"></script>
    <script src="js/core/modifier/ui-model.js"></script>
    <script src="js/core/modifier/component-tag.js"></script>
    <script src="js/core/modifier/component-slot.js"></script>
    <!--Core Modules-->
    <script src="js/core/element-destoryer.js"></script>
    <script src="js/core/component.js"></script>
    <script src="js/core/router.js"></script>
    <script src="js/core/service.js"></script>
    <script src="js/core/page-manager.js"></script>
    <script src="js/core/service-manager.js"></script>
    <script src="js/core/template.js"></script>
    <script src="js/core/object-property-tank.js"></script>

    <!--Services-->
    <script src="js/services/user-service.js"></script>

</head>

<body>

<div id="container">

</div>

<script src="js/page/comp.js"></script>
<script src="js/page/search.js"></script>
<script>

    PageManager
        .setContainer($('#container')[0]);

    PageManager
        .setDefaultPage('search')
        .setErrorPage('404');

    PageManager
        .addPage('index', () => {
            return "Welcome to the index page!"
        })
        .addPage('404', () => {
            return '<h1>404 Not Found</h1><a href="?page=404">404</a>'
        })
        .addPage('comp', () => componentManager.pageFactory("test"))
        .addPage('search', () => componentManager.pageFactory("search"));
    PageManager
        .addPage('index', () => {
            return "Welcome to the index page!"
        })
        .addPage('404', () => {
            return '<h1>404 Not Found</h1>'
        })
        .addPage('comp', () => componentManager.pageFactory("test"));

    PageManager
        .setBeforeChangeAction(() => {
            let container = PageManager.getContainer();
            $(container).hide()
        })
        .setAfterChangeAction(() => {
            let container = PageManager.getContainer();
            $(container).clearQueue().fadeIn()
        })
</script>
</body>

</html>